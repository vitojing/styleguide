<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<title>Google HTML/CSS Style Guide</title>
<link rel="stylesheet" href="javaguide.css">
<script src="include/styleguide.js"></script>
<link rel="shortcut icon" href="https://www.google.com/favicon.ico">
<script src="include/jsguide.js"></script>
</head>
<body onload="initStyleGuide();">
<div id="content">
<h1>HTML/CSS Style Guide</h1>
<h2 id="Background">1 背景</h2>

<p>本文当定义了HTML和CSS的样式规范，其目标是促进多人协作，改善代码质量等。该规范适用于原始HTML和CSS代码，不适用于代码混淆、压缩、编译工具处理后的代码。</p>

<h2 id="General">2 通用规则</h2>

<h3 id="General_Formatting_Rules">2.1 通用样式规则</h3>

<h4 id="Indentation">2.1.1 缩进</h4>

<p>每次缩进两个空格，不要使用tab。</p>

<pre><code class="language-html prettyprint">&lt;ul&gt;
  &lt;li&gt;Fantastic
  &lt;li&gt;Great
&lt;/ul&gt;
</code></pre>

<pre><code class="language-css prettyprint">.example {
  color: blue;
}
</code></pre>

<h4 id="Capitalization">2.1.2 大写</h4>

<p>只使用小写。</p>

<p>所有代码都必须时用小写，包括HTML元素名称、属性、属性值（除了<code>text/CDATA</code>），CSS选择子、属性、属性值（字符串除外）。</p>

<pre><code class="language-html prettyprint badcode">&lt;!-- 不推荐 --&gt;
&lt;A HREF="/"&gt;Home&lt;/A&gt;
</code></pre>

<pre><code class="language-html prettyprint">&lt;!-- 推荐 --&gt;
&lt;img src="google.png" alt="Google"&gt;
</code></pre>

<pre><code class="language-css prettyprint badcode">/* 不推荐 */
color: #E5E5E5;
</code></pre>

<pre><code class="language-css prettyprint">/* 推荐 */
color: #e5e5e5;
</code></pre>

<h4 id="Trailing_Whitespace">2.1.3 尾空白符</h4>

<p>尾空白符是不必要的并且会使diff结果复杂化，不要使用尾空白符。</p>

<pre><code class="language-html prettyprint badcode">&lt;!-- 不推荐 --&gt;
&lt;p&gt;What?_
</code></pre>

<pre><code class="language-html prettyprint">&lt;!-- 推荐 --&gt;
&lt;p&gt;Yes please.
</code></pre>

<h3 id="General_Meta_Rules">2.2 通用元规则</h3>

<h4 id="Encoding">2.2.1 编码</h4>

<p>使用UTF-8无BOM编码。</p>

<p>在HTML模板和文档中通过<code>&lt;meta charset="utf-8"&gt;</code>指定编码。不要指定样式文件的编码，其默认编码就是UTF-8。</p>

<p>更多关于编码，以及何时、如何指定编码的信息可以参考<a href="https://www.w3.org/International/tutorials/tutorial-char-enc/">Handling
character encodings in HTML and CSS</a>。</p>

<h4 id="Comments">2.2.2 注释</h4>

<p>根据需要使用注释对代码进行解释：其包含了那些内容，目的是什么，等。</p>

<h4 id="Action_Items">2.2.3 待处理问题</h4>

<p>为待处理问题添加<code>TODO</code>标记。</p>

<p>使用<code>TODO</code>对待处理问题进行高亮，不要使用<code>@@</code>等形式。</p>

<p>以<code>TODO(contact)</code>的形式在待处理问题中添加联系方式（姓名/邮箱/电话）。</p>

<pre><code class="language-django prettyprint external">{# TODO(john.doe): revisit centering #}
&lt;center&gt;Test&lt;/center&gt;
</code></pre>

<pre><code class="language-html prettyprint">&lt;!-- TODO: remove optional tags --&gt;
&lt;ul&gt;
  &lt;li&gt;Apples&lt;/li&gt;
  &lt;li&gt;Oranges&lt;/li&gt;
&lt;/ul&gt;
</code></pre>

<h2 id="HTML">3 HTML</h2>

<h3 id="HTML_Style_Rules">3.1 HTML样式规则</h3>

<h4 id="Document_Type">3.1.1 文档类型</h4>

<p>始终使用HTML5。</p>

<p>不要使用XHTML即<a href="https://hixie.ch/advocacy/xhtml"><code>application/xhtml+xml</code></a>，XHTML缺乏浏览器支持，相比HTML优化空间有限。</p>

<p>不要关闭空元素，即便HTML规范允许。例如推荐<code>&lt;br&gt;</code>，不推荐<code>&lt;br /&gt;</code>。</p>

<h4 id="HTML_Validity">3.1.2 HTML规范性</h4>

<p>尽量只使用符合标准的HTML，除非为了达到某些标准HTML无法支持的特定效果。</p>

<p>可以使用<a href="https://validator.w3.org/nu/">W3C HTML validator</a>验证HTML合法性。</p>

<pre><code class="language-html prettyprint badcode">&lt;!-- 不推荐 --&gt;
&lt;title&gt;Test&lt;/title&gt;
&lt;article&gt;This is only a test.
</code></pre>

<pre><code class="language-html prettyprint">&lt;!-- 推荐 --&gt;
&lt;!DOCTYPE html&gt;
&lt;meta charset="utf-8"&gt;
&lt;title&gt;Test&lt;/title&gt;
&lt;article&gt;This is only a test.&lt;/article&gt;
</code></pre>

<h4 id="Semantics">3.1.3 语义</h4>

<p>按照其设计目的使用HTML元素。例如对标题使用heading元素，段落使用<code>p</code>元素，链接锚点使用<code>a</code>元素。</p>

<p>对于信息无障碍获取，复用，代码效率等因素而言，按照设计目的使用HTML元素都是很重要的。</p>

<pre><code class="language-html prettyprint badcode">&lt;!-- 不推荐 --&gt;
&lt;div onclick="goToRecommendations();"&gt;All recommendations&lt;/div&gt;
</code></pre>

<pre><code class="language-html prettyprint">&lt;!-- 推荐 --&gt;
&lt;a href="recommendations/"&gt;All recommendations&lt;/a&gt;
</code></pre>

<h4 id="Multimedia_Fallback">3.1.4 多媒体元素降级</h4>

<p>为多媒体元素提供备选方案。</p>

<p>确保为图片、视频、<code>canvas</code>动画等多媒体元素提供备选方案。对图片使用含义明确的替代文本（<code>alt</code>），对音视频提供文字版本。</p>

<p>如果备选方案会导致图片等冗余，或者图片等元素仅仅是起到装饰效果，可以将<code>alt</code>内容置空（<code>alt=""</code>）。</p>

<pre><code class="language-html prettyprint badcode">&lt;!-- 不推荐 --&gt;
&lt;img src="spreadsheet.png"&gt;
</code></pre>

<pre><code class="language-html prettyprint">&lt;!-- 推荐 --&gt;
&lt;img src="spreadsheet.png" alt="Spreadsheet screenshot."&gt;
</code></pre>

<h4 id="Separation_of_Concerns">3.1.5 关注点分离</h4>

<p>将结构（html标记）、呈现（css样式）、行为（js脚本）分离，最小化其耦合部分。</p>

<p>也就是说，确保文档/模板仅包含HTML，且HTML仅用于描述内容结构。将呈现相关逻辑放在样式中，行为逻辑放在脚本中。</p>

<p>此外，HTML对样式、脚本的引用尽量少，以简化其耦合部分。</p>

<p>关注点分离对于维护很重要阿，一般而言修改HTML文件比修改样式、脚本更容易出问题。</p>

<pre><code class="language-html prettyprint badcode">&lt;!-- 不推荐 --&gt;
&lt;!DOCTYPE html&gt;
&lt;title&gt;HTML sucks&lt;/title&gt;
&lt;link rel="stylesheet" href="base.css" media="screen"&gt;
&lt;link rel="stylesheet" href="grid.css" media="screen"&gt;
&lt;link rel="stylesheet" href="print.css" media="print"&gt;
&lt;h1 style="font-size: 1em;"&gt;HTML sucks&lt;/h1&gt;
&lt;p&gt;I&#8217;ve read about this on a few sites but now I&#8217;m sure:
  &lt;u&gt;HTML is stupid!!1&lt;/u&gt;
&lt;center&gt;I can&#8217;t believe there&#8217;s no way to control the styling of
  my website without doing everything all over again!&lt;/center&gt;
</code></pre>

<pre><code class="language-html prettyprint">&lt;!-- 推荐 --&gt;
&lt;!DOCTYPE html&gt;
&lt;title&gt;My first CSS-only redesign&lt;/title&gt;
&lt;link rel="stylesheet" href="default.css"&gt;
&lt;h1&gt;My first CSS-only redesign&lt;/h1&gt;
&lt;p&gt;I&#8217;ve read about this on a few sites but today I&#8217;m actually
  doing it: separating concerns and avoiding anything in the HTML of
  my website that is presentational.
&lt;p&gt;It&#8217;s awesome!
</code></pre>

<h4 id="Entity_References">3.1.6 实体引用</h4>

<p>一般不要使用实体引用。如果团队中文件、编辑器使用统一的编码方式（UTF-8），就没必要使用<code>&amp;mdash;</code>、<code>&amp;rdquo;</code>之类的实体引用写法。</p>

<p>例外情况包括HTML特殊字符（例如<code>&lt;</code> <code>&amp;</code>）以及控制字符或不可见字符（例如不换行空格<code>&ampnbsp;</code>）。</p>

<pre><code class="language-html prettyprint badcode">&lt;!-- 不推荐 --&gt;
The currency symbol for the Euro is &amp;ldquo;&amp;eur;&amp;rdquo;.
</code></pre>

<pre><code class="language-html prettyprint">&lt;!-- 推荐 --&gt;
The currency symbol for the Euro is &#8220;&#8364;&#8221;.
</code></pre>

<h4 id="type_Attributes">3.1.7 <code>type</code> 属性</h4>

<p>对样式引用和脚本引用忽略<code>type</code>属性（除非引用的脚本不是Javascript），使用HTML5默认值即可。</p>

<pre><code class="language-html prettyprint badcode">&lt;!-- 不推荐 --&gt;
&lt;link rel="stylesheet" href="https://www.google.com/css/maia.css"
  type="text/css"&gt;
</code></pre>

<pre><code class="language-html prettyprint">&lt;!-- 推荐 --&gt;
&lt;link rel="stylesheet" href="https://www.google.com/css/maia.css"&gt;
</code></pre>

<pre><code class="language-html prettyprint badcode">&lt;!-- 不推荐 --&gt;
&lt;script src="https://www.google.com/js/gweb/analytics/autotrack.js"
  type="text/javascript"&gt;&lt;/script&gt;
</code></pre>

<pre><code class="language-html prettyprint">&lt;!-- 推荐 --&gt;
&lt;script src="https://www.google.com/js/gweb/analytics/autotrack.js"&gt;&lt;/script&gt;
</code></pre>

<h3 id="HTML_Formatting_Rules">3.2 HTML格式化规则</h3>

<h4 id="General_Formatting">3.2.1 通用格式化规则</h4>

<p>每个块（block）、列表、表格元素都另起一行并缩进子元素。</p>

<p>如果遇到list元素左右空格的问题（由于换行，浏览器会认为两个元素间存在一个空白），可以将元素放在同一行。</p>

<pre><code class="language-html prettyprint">&lt;blockquote&gt;
  &lt;p&gt;&lt;em&gt;Space&lt;/em&gt;, the final frontier.&lt;/p&gt;
&lt;/blockquote&gt;
</code></pre>

<pre><code class="language-html prettyprint">&lt;ul&gt;
  &lt;li&gt;Moe
  &lt;li&gt;Larry
  &lt;li&gt;Curly
&lt;/ul&gt;
</code></pre>

<pre><code class="language-html prettyprint">&lt;table&gt;
  &lt;thead&gt;
    &lt;tr&gt;
      &lt;th scope="col"&gt;Income
      &lt;th scope="col"&gt;Taxes
  &lt;tbody&gt;
    &lt;tr&gt;
      &lt;td&gt;$ 5.00
      &lt;td&gt;$ 4.50
&lt;/table&gt;
</code></pre>

<h4 id="HTML_Line-Wrapping">3.2.2 HTML断行（可选）</h4>

<p>对HTML没有单行字符数限制，如果能显著增强代码可读性的话可以进行断行。</p>

<p>断行时，延续行相对起始行缩进四个空格。</p>

<pre><code class="language-html prettyprint">&lt;md-progress-circular md-mode="indeterminate" class="md-accent"
    ng-show="ctrl.loading" md-diameter="35"&gt;
&lt;/md-progress-circular&gt;
</code></pre>

<pre><code class="language-html prettyprint">&lt;md-progress-circular
    md-mode="indeterminate"
    class="md-accent"
    ng-show="ctrl.loading"
    md-diameter="35"&gt;
&lt;/md-progress-circular&gt;
</code></pre>

<pre><code class="language-html prettyprint">&lt;md-progress-circular md-mode="indeterminate"
                      class="md-accent"
                      ng-show="ctrl.loading"
                      md-diameter="35"&gt;
&lt;/md-progress-circular&gt;
</code></pre>

<h4 id="HTML_Quotation_Marks">3.2.3 HTML引号</h4>

<p>在属性值上使用双引号，不要使用单引号。</p>

<pre><code class="language-html prettyprint badcode">&lt;!-- 不推荐 --&gt;
&lt;a class='maia-button maia-button-secondary'&gt;Sign in&lt;/a&gt;
</code></pre>

<pre><code class="language-html prettyprint">&lt;!-- 推荐 --&gt;
&lt;a class="maia-button maia-button-secondary"&gt;Sign in&lt;/a&gt;
</code></pre>

<h2 id="CSS">4 CSS</h2>

<h3 id="CSS_Style_Rules">4.1 CSS样式规则</h3>

<h4 id="CSS_Validity">4.1.1 CSS 合法性</h4>

<p>尽量只使用合法的CSS元素，除非需要使用专有语法。</p>

<p>使用<a href="https://jigsaw.w3.org/css-validator/">W3C CSS validator</a>之类的工具验证CSS合法性。</p>

<h4 id="ID_and_Class_Naming">4.1.2 ID和CSS类名</h4>

<p>元素ID和CSS类名应该能标志其目的，或者是一个粗略通用的名称。优先使用有意义的名称，这样的名称易理解且不易变。
  如果元素相对其他同级元素而言没有特殊含义，那么可以使用通用名称（常用于辅助类）。</p>

<pre><code class="language-css prettyprint badcode">/* 不推荐，没有任何含义 */
#yee-1901 {}

/* Not recommended: presentational */
.button-green {}
.clear {}
</code></pre>

<pre><code class="language-css prettyprint">/* 推荐，指明了其含义 */
#gallery {}
#login {}
.video {}

/* 推荐，通用名称 */
.aux {}
.alt {}
</code></pre>

<h4 id="ID_and_Class_Name_Style">4.1.3 ID和CSS类名样式</h4>

<p>如前所述，ID和CSS类名需要表达一定含义。在满足表达需要的前提下，ID和CSS类名要尽量简短，这有助于提升可读性和代码效率。</p>

<pre><code class="language-css prettyprint badcode">/* 不推荐 */
#navigation {}
.atr {}
</code></pre>

<pre><code class="language-css prettyprint">/* 推荐 */
#nav {}
.author {}
</code></pre>

<h4 id="Type_Selectors">4.1.4 类型选择子</h4>

<p>避免混合使用类型选择子与ID/CSS类名选择子。</p>

<p>出于<a href="http://www.stevesouders.com/blog/2009/06/18/simplifying-css-selectors/">性能考虑</a>，尽量避免不必要的派生选择子。</p>

<pre><code class="language-css prettyprint badcode">/* 不推荐 */
ul#example {}
div.error {}
</code></pre>

<pre><code class="language-css prettyprint">/* 推荐 */
#example {}
.error {}
</code></pre>

<h4 id="Shorthand_Properties">4.1.5 简写属性</h4>

<p>尽量使用CSS提供的<a href="https://www.w3.org/TR/CSS21/about.html#shorthand">简写属性</a>（例如<code>font</code>），即使只设置了一个值。</p>

<p>简写属性有助于提高代码执行效率和可读性。</p>

<pre><code class="language-css prettyprint badcode">/* 不推荐 */
border-top-style: none;
font-family: palatino, georgia, serif;
font-size: 100%;
line-height: 1.6;
padding-bottom: 2em;
padding-left: 1em;
padding-right: 1em;
padding-top: 0;
</code></pre>

<pre><code class="language-css prettyprint">/* 推荐 */
border-top: 0;
font: 100%/1.6 palatino, georgia, serif;
padding: 0 1em 2em;
</code></pre>

<h4 id="0_and_Units">4.1.6 0和单位</h4>

<p>除非一定需要，否则<code>0</code>后面不要指定单位。</p>

<pre><code class="language-css prettyprint">flex: 0px; /* flex-basis元素必须要指定单位 */
flex: 1 1 0px; /* IE11必须指定单位，除此之外忽略单位也没问题 */
margin: 0;
padding: 0;
</code></pre>

<h4 id="Leading_0s">4.1.7 开头处的0</h4>

<p>忽略数字开头处的 &#8220;0&#8221;，-1和1之间的值也去掉开头的0。</p>

<pre><code class="language-css prettyprint">font-size: .8em;
</code></pre>

<h4 id="Hexadecimal_Notation">4.1.8 16进制表示法</h4>

<p>尽量使用三字符的十六进制表示法。对颜色取值而言，三字符十六进制表示法更简捷。</p>

<pre><code class="language-css prettyprint badcode">/* 不推荐 */
color: #eebbcc;
</code></pre>

<pre><code class="language-css prettyprint">/* 推荐 */
color: #ebc;
</code></pre>

<h4 id="Prefixes">4.1.9 前缀</h4>

<p>（可选）对选择子添加应用相关前缀。</p>

<p>在大型团队中，代码可能被嵌入其他项目或者外部网站，此时可以为ID和类名添加前缀作为命名空间。一般使用简短唯一的标志符作为前缀，前缀与其他部分使用连接符连接。</p>

<p>使用命名空间可以避免名称冲突且让维护变得简单，例如有利于检索或者替换。</p>

<pre><code class="language-css prettyprint">.adw-help {} /* AdWords */
#maia-note {} /* Maia */
</code></pre>

<h4 id="ID_and_Class_Name_Delimiters">4.1.10 ID和类型分隔符</h4>

<p>ID和类名使用连字符（<code>-</code>）进行分隔。</p>

<pre><code class="language-css prettyprint badcode">/* 不推荐，未分隔 */
.demoimage {}

/* 不推荐，应该使用连字符而不是下划线 */
.error_status {}
</code></pre>

<pre><code class="language-css prettyprint">/* 推荐 */
#video-id {}
.ads-sample {}
</code></pre>

<h4 id="Hacks">4.1.11 Hacks</h4>

<p>不要使用浏览器检测以及CSS &#8220;hacks&#8221;&#8212;，尝试用其他方式解决问题。这种方式不利于代码维护。</p>

<h3 id="CSS_Formatting_Rules">4.2 CSS格式化规则</h3>

<h4 id="Declaration_Order">4.2.1 属性书写顺序</h4>

<p>按照字符顺序书写。</p>

<p>如果属性名包含厂商前缀，排序时前缀部分作为次要排序因素。</p>

<pre><code class="language-css prettyprint">background: fuchsia;
border: 1px solid;
-moz-border-radius: 4px;
-webkit-border-radius: 4px;
border-radius: 4px;
color: black;
text-align: center;
text-indent: 2em;
</code></pre>

<h4 id="Block_Content_Indentation">4.2.2 块级内容缩进</h4>

<p>为反映层级结构，改善可读性，缩进所有<a href="https://www.w3.org/TR/CSS21/syndata.html#block">块级元素</a>。</p>

<pre><code class="language-css prettyprint">@media screen, projection {

  html {
    background: #fff;
    color: #444;
  }

}
</code></pre>

<h4 id="Declaration_Stops">4.2.3 声明结束</h4>

<p>出于一致性和扩展性考虑，所有声明以分号结束。</p>

<pre><code class="language-css prettyprint badcode">/* 不推荐 */
.test {
  display: block;
  height: 100px
}
</code></pre>

<pre><code class="language-css prettyprint">/* 推荐 */
.test {
  display: block;
  height: 100px;
}
</code></pre>

<h4 id="Property_Name_Stops">4.2.4 属性名结尾</h4>

<p>在属性名、冒号和属性值之间都应有一个空格。</p>

<pre><code class="language-css prettyprint badcode">/* 不推荐 */
h3 {
  font-weight:bold;
}
</code></pre>

<pre><code class="language-css prettyprint">/* 推荐 */
h3 {
  font-weight: bold;
}
</code></pre>

<h4 id="Declaration_Block_Separation">4.2.5 样式块的分隔</h4>

<p>最后一个选择子和声明块之间有且仅有一个空格，不要换行。</p>

<pre><code class="language-css prettyprint badcode">/* 不推荐：缺空格 */
#video{
  margin-top: 1em;
}

/* 不推荐：不要换行 */
#video
{
  margin-top: 1em;
}
</code></pre>

<pre><code class="language-css prettyprint">/* 推荐 */
#video {
  margin-top: 1em;
}
</code></pre>

<h4 id="Selector_and_Declaration_Separation">4.2.6 选择其分隔</h4>

<p>每个选择其都另起一行。</p>

<pre><code class="language-css prettyprint badcode">/* 不推荐 */
a:focus, a:active {
  position: relative; top: 1px;
}
</code></pre>

<pre><code class="language-css prettyprint">/* 推荐 */
h1,
h2,
h3 {
  font-weight: normal;
  line-height: 1.2;
}
</code></pre>

<h4 id="Rule_Separation">4.2.7 规则分隔</h4>

<p>规则之间用空行隔开。</p>

<pre><code class="language-css prettyprint">html {
  background: #fff;
}

body {
  margin: auto;
  width: 50%;
}
</code></pre>

<h4 id="CSS_Quotation_Marks">4.2.8 CSS引号</h4>

<p>属性选择子和属性值使用单引号，不要使用双引号。URI值（<code>url()</code>）不要使用引号。</p>

<p>例外：如果需要使用<code>@charset</code>规则，使用双引号，<a href="https://www.w3.org/TR/CSS21/syndata.html#charset">CSS规范不允许使用单引号</a>。</p>

<pre><code class="language-css prettyprint badcode">/* 不推荐 */
@import url("https://www.google.com/css/maia.css");

html {
  font-family: "open sans", arial, sans-serif;
}
</code></pre>

<pre><code class="language-css prettyprint">/* 推荐 */
@import url(https://www.google.com/css/maia.css);

html {
  font-family: 'open sans', arial, sans-serif;
}
</code></pre>

<h3 id="CSS_Meta_Rules">4.3 CSS元规则</h3>

<h4 id="Section_Comments">4.3.1 分段注释</h4>

<p>（可选）使用分段注释将CSS分成几段，每段之间用空行分隔。</p>

<pre><code class="language-css prettyprint">/* Header */

#adw-header {}

/* Footer */

#adw-footer {}

/* Gallery */

.adw-gallery {}
</code></pre>

<h2 id="Parting_Words">多余的话</h2>

<p><em>保持代码一致性。</em></p>

<p>修改代码之前，花几分钟时间观察一下现有的代码风格。遵守现有代码的风格，像现有代码一样在运算符两边添加空格，像现有代码一样在注释前后添加<code>#</code>串。</p>

<p>代码规范存在的意义在于让大家用统一的方式写代码，从而专注于思考所表达的内容，而不是表达的方式。
  这里列出了统一的规范，但局部的风格也很重要。如果往一个文件中添加了一段风格迥异的代码，会让其他人读代码时非常不适。尽量避免这么做。</p>
</div>
</body>
</html>
